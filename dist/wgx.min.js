"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var wgx=function(){function n(e,t){_classCallCheck(this,n),this.tick_interval=1e3/30,this.tick_timer,this.canvas_width=e,this.canvas_height=t,this.mouse_position=this.vector(0,0),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this._construct_canvas(),this._construct_mouse_listeners()}return _createClass(n,[{key:"vector",value:function(e,t){return{x:e,y:t}}},{key:"tick",value:function(e,t){t=void 0!==t?t:this.tick_interval;return this.tick_timer=setInterval(e,t),!0}},{key:"stopTick",value:function(){return clearInterval(this.tick_timer),!0}},{key:"background",value:function(e){return this.fill(e),this.rect(0,0,this.canvas_width,this.canvas_height),!0}},{key:"fill",value:function(e){return this.context.fillStyle=e,!0}},{key:"rect",value:function(e,t,n,i){return this.context.fillRect(e,t,n,i),!0}},{key:"on",value:function(e,t){return this.canvas.addEventListener(e,t)}},{key:"keydown",value:function(t){return document.addEventListener("keydown",function(e){t(e.keyCode)}),!0}},{key:"keyup",value:function(t){return document.addEventListener("keyup",function(e){t(e.keyCode)}),!0}},{key:"mousedown",value:function(e){return this.canvas.addEventListener("mousedown",e)}},{key:"mouseup",value:function(e){return this.canvas.addEventListener("mouseup",e)}},{key:"mouse",value:function(){return this.mouse_position}},{key:"loadImage",value:function(e,t){var n=new Image;return n.src=e,n.onload=t,n}},{key:"image",value:function(e,t,n){return this.context.drawImage(e,t,n),!0}},{key:"_construct_canvas",value:function(){this.canvas.width=this.canvas_width,this.canvas.height=this.canvas_height,this.canvas.className="wgx_canvas",document.body.appendChild(this.canvas)}},{key:"_construct_mouse_listeners",value:function(){var t=this;this.canvas.addEventListener("mousemove",function(e){t.mouse_position.x=e.clientX-t.canvas.getBoundingClientRect().left,t.mouse_position.y=e.clientY-t.canvas.getBoundingClientRect().top})}}]),n}();